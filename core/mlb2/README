mlb2
________________________________________________________________________________

Minimal Linux Bootloader, adapted/adopted from Sebastian Plotz by Wiktor Kerr,
and then later adapted for use in virtualized booting environments by
Phil Hofer for use in the distill project.

This is a single stage x86 bootloader that can boot a single Linux
kernel. There is no support for initrd and only one kernel can be
configured to boot at any time. [0]

Upstream: https://git.sr.ht/~pmh/mlb2


[000] Index
________________________________________________________________________________

* Installation ........................................................... [001]
* Setup .................................................................. [002]
* Usage .................................................................. [003]
* References ............................................................. [004]


[001] Installation
________________________________________________________________________________

+------------------------------------------------------------------------------+
|                                                                              |
|  $ kiss b mlb2                                                               |
|                                                                              |
+------------------------------------------------------------------------------+


[002] Setup
________________________________________________________________________________

Backup your current MBR:

+------------------------------------------------------------------------------+
|                                                                              |
|  $ dd if=/dev/sdXY of=/boot/mbr.bak bs=512 count=1                           |
|                                                                              |
+------------------------------------------------------------------------------+

Note the LBA (in 512-byte sectors) of the kernel within the target device:

+------------------------------------------------------------------------------+
|                                                                              |
|  $ hdparm --fibtmap /boot/vmlinuz                                            |
|                                                                              |
+------------------------------------------------------------------------------+

Run mlb2install:

+------------------------------------------------------------------------------+
|                                                                              |
|  $ mlb2install /dev/sdb <LBA> 'root=/dev/sdb1 ro quiet'                      |
|                                                                              |
+------------------------------------------------------------------------------+

[003] Usage
________________________________________________________________________________

Refer to the README and command help output.


[004] References
________________________________________________________________________________

[0] https://git.sr.ht/~pmh/mlb2
